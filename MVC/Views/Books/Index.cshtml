@using Microsoft.AspNetCore.Mvc.Localization
@inject IViewLocalizer  Localizer
@{
    ViewData["Title"] = Localizer["Index"];
    ViewData["Books"] = Localizer["Books"];
}
@{int counter = 1; }
<div>
    <h2>@ViewData["Books"]</h2>
    @foreach (var item in Model)
    {
        <div class="book">
            <div class="row">
                <div class="col-1 devider">
                    <span>@counter</span>
                </div>
                <div class="col-7 devider">
                    <a href="/Books/Get/@item.Id">
                        <span>@item.Name</span>
                    </a>
                </div>
                <div class="col-2 devider">
                    <span><a href="Books/Update/@item.Id">@Localizer["Edit"]</a></span>
                </div>
                <div class="col-2" style="text-align: center;">
                    <button onclick="deleteBook('@item.Id')">X</button>
                </div>
            </div>
        </div>
            { counter++; }
    }
</div>
<script>
    function deleteBook(id) {
        $.ajax(
            {
                type: "POST",
                url: '@Url.Action("Delete")',
                data: {
                    id: id
                },
                error: function (result) {
                    alert("error");
                },
                success: function (result) {
                    window.location.reload();
                }
            }
        );
    }
</script>

